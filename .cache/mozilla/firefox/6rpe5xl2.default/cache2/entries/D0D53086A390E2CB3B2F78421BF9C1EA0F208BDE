<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>

<meta name="google-site-verification" content="CjkdY6BqKWAVmQ78_iSq6J7ZZ9AoL7-CjFVBYGg9FU4" />
<link rel="shortcut icon" href="/custom/favicon.ico" type="image/ico" />
<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css" />
<script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/custom/js/sorttable.js"></script>
<script type="text/javascript" src="/custom/libraries/jquery.min.js"></script>                         
<script type="text/javascript" src="/custom/js/seesaw.js"></script> 
<script type="text/javascript" src="/custom/js/rosversion.js"></script> 
<!--script type="text/javascript" src="/custom/libraries/RGraph.common.core.js" ></script Used for metrics only, should be conditional, not at the top-->
<!--script type="text/javascript" src="/custom/libraries/RGraph.bar.js" ></script same as above -->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-17821189-2']);
  _gaq.push(['_setDomainName', 'wiki.ros.org']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"><script type="text/javascript">window.NREUM||(NREUM={}),__nr_require=function(e,t,n){function r(n){if(!t[n]){var o=t[n]={exports:{}};e[n][0].call(o.exports,function(t){var o=e[n][1][t];return r(o||t)},o,o.exports)}return t[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,n){function r(){}function o(e,t,n){return function(){return i(e,[f.now()].concat(u(arguments)),t?null:this,n),t?void 0:this}}var i=e("handle"),a=e(2),u=e(3),c=e("ee").get("tracer"),f=e("loader"),s=NREUM;"undefined"==typeof window.newrelic&&(newrelic=s);var p=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],d="api-",l=d+"ixn-";a(p,function(e,t){s[t]=o(d+t,!0,"api")}),s.addPageAction=o(d+"addPageAction",!0),s.setCurrentRouteName=o(d+"routeName",!0),t.exports=newrelic,s.interaction=function(){return(new r).get()};var m=r.prototype={createTracer:function(e,t){var n={},r=this,o="function"==typeof t;return i(l+"tracer",[f.now(),e,n],r),function(){if(c.emit((o?"":"no-")+"fn-start",[f.now(),r,o],n),o)try{return t.apply(this,arguments)}catch(e){throw c.emit("fn-err",[arguments,this,e],n),e}finally{c.emit("fn-end",[f.now()],n)}}}};a("setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(e,t){m[t]=o(l+t)}),newrelic.noticeError=function(e){"string"==typeof e&&(e=new Error(e)),i("err",[e,f.now()])}},{}],2:[function(e,t,n){function r(e,t){var n=[],r="",i=0;for(r in e)o.call(e,r)&&(n[i]=t(r,e[r]),i+=1);return n}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],3:[function(e,t,n){function r(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var r=-1,o=n-t||0,i=Array(o<0?0:o);++r<o;)i[r]=e[t+r];return i}t.exports=r},{}],4:[function(e,t,n){t.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],ee:[function(e,t,n){function r(){}function o(e){function t(e){return e&&e instanceof r?e:e?c(e,u,i):i()}function n(n,r,o,i){if(!d.aborted||i){e&&e(n,r,o);for(var a=t(o),u=m(n),c=u.length,f=0;f<c;f++)u[f].apply(a,r);var p=s[y[n]];return p&&p.push([b,n,r,a]),a}}function l(e,t){v[e]=m(e).concat(t)}function m(e){return v[e]||[]}function w(e){return p[e]=p[e]||o(n)}function g(e,t){f(e,function(e,n){t=t||"feature",y[n]=t,t in s||(s[t]=[])})}var v={},y={},b={on:l,emit:n,get:w,listeners:m,context:t,buffer:g,abort:a,aborted:!1};return b}function i(){return new r}function a(){(s.api||s.feature)&&(d.aborted=!0,s=d.backlog={})}var u="nr@context",c=e("gos"),f=e(2),s={},p={},d=t.exports=o();d.backlog=s},{}],gos:[function(e,t,n){function r(e,t,n){if(o.call(e,t))return e[t];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return e[t]=r,r}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],handle:[function(e,t,n){function r(e,t,n,r){o.buffer([e],r),o.emit(e,t,n)}var o=e("ee").get("handle");t.exports=r,r.ee=o},{}],id:[function(e,t,n){function r(e){var t=typeof e;return!e||"object"!==t&&"function"!==t?-1:e===window?0:a(e,i,function(){return o++})}var o=1,i="nr@id",a=e("gos");t.exports=r},{}],loader:[function(e,t,n){function r(){if(!x++){var e=h.info=NREUM.info,t=d.getElementsByTagName("script")[0];if(setTimeout(s.abort,3e4),!(e&&e.licenseKey&&e.applicationID&&t))return s.abort();f(y,function(t,n){e[t]||(e[t]=n)}),c("mark",["onload",a()+h.offset],null,"api");var n=d.createElement("script");n.src="https://"+e.agent,t.parentNode.insertBefore(n,t)}}function o(){"complete"===d.readyState&&i()}function i(){c("mark",["domContent",a()+h.offset],null,"api")}function a(){return E.exists&&performance.now?Math.round(performance.now()):(u=Math.max((new Date).getTime(),u))-h.offset}var u=(new Date).getTime(),c=e("handle"),f=e(2),s=e("ee"),p=window,d=p.document,l="addEventListener",m="attachEvent",w=p.XMLHttpRequest,g=w&&w.prototype;NREUM.o={ST:setTimeout,SI:p.setImmediate,CT:clearTimeout,XHR:w,REQ:p.Request,EV:p.Event,PR:p.Promise,MO:p.MutationObserver};var v=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1071.min.js"},b=w&&g&&g[l]&&!/CriOS/.test(navigator.userAgent),h=t.exports={offset:u,now:a,origin:v,features:{},xhrWrappable:b};e(1),d[l]?(d[l]("DOMContentLoaded",i,!1),p[l]("load",r,!1)):(d[m]("onreadystatechange",o),p[m]("onload",r)),c("mark",["firstbyte",u],null,"api");var x=0,E=e(4)},{}]},{},["loader"]);</script><script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","queueTime":0,"licenseKey":"4c8610d177","agent":"","transactionName":"NFZaMEVUV0ZVBkBeCQ0cbRZeGmt6Z0oe","applicationID":"3371695","errorBeacon":"bam.nr-data.net","applicationTime":882}</script>
<meta name="robots" content="index,nofollow">

<title>ROS/Tutorials/WritingServiceClient(c++) - ROS Wiki</title>
<script type="text/javascript" src="/moin_static197/common/js/common.js"></script>

<script type="text/javascript">
<!--
var search_hint = "Szukaj";
//-->
</script>


<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static197/rostheme/css/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="/moin_static197/rostheme/css/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="/moin_static197/rostheme/css/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="/moin_static197/rostheme/css/projection.css">

<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static197/rostheme/css/msie.css">
<![endif]-->




<link rel="canonical" href="http://wiki.ros.org/ROS/Tutorials/WritingServiceClient%28c%2B%2B%29" />

<link rel="Start" href="/Documentation">
<link rel="Alternate" title="Język oznaczeń wiki" href="/ROS/Tutorials/WritingServiceClient%28c%2B%2B%29?action=raw">
<link rel="Alternate" media="print" title="Podgląd wydruku" href="/ROS/Tutorials/WritingServiceClient%28c%2B%2B%29?action=print">
<link rel="Up" href="/ROS/Tutorials">
<link rel="Search" href="/FindPage">
<link rel="Index" href="/TitleIndex">
<link rel="Glossary" href="/WordIndex">
<link rel="Help" href="/HelpOnFormatting">
</head>

<body  lang="pl" dir="ltr">

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-5950817-2");
pageTracker._trackPageview();
} catch(err) {}</script>

<script type="text/javascript">
<!--// Initialize search form
var f = document.getElementById('searchform');
if(f) f.getElementsByTagName('label')[0].style.display = 'none';
var e = document.getElementById('searchinput');
if(e) {
  searchChange(e);
  searchBlur(e);
}

function handleSubmit() {
  var f = document.getElementById('searchform');
  var t = document.getElementById('searchinput');
  var r = document.getElementById('real_searchinput');

  //alert("handleSubmit "+ t.value);
  if(t.value.match(/review/)) {
    r.value = t.value;
  } else {
    //r.value = t.value + " -PackageReviewCategory -StackReviewCategory -M3Review -DocReview -ApiReview -HelpOn -BadContent -LocalSpellingWords";
    r.value = t.value + " -PackageReviewCategory -StackReviewCategory -DocReview -ApiReview";
  }
  //return validate(f);
}
//-->
</script>

<div id="dpage">
  <div id="dpage-inner">
    <div id="header"><div id="topnav">

<!-- Alert box -->
<!-- To enable/disable the alert box, uncomment/comment the block below and update the content below the button. -->
<!--
    <div class="alert alert-info alert-dismissable" style="text-align: center;">
<script>
jQuery(function( $ ){
    alert_box_name = 'roswiki_roscon'
    state = localStorage.getItem(alert_box_name);
    if (!state) {
      localStorage.setItem(alert_box_name, 'open');
    }
    state = localStorage.getItem(alert_box_name);
    if (state == 'closed') {
        $( '#topnav .alert' ).hide();
    }
    $( '.close' ).click(function () {
	console.log('in .close.click');
        localStorage.setItem(alert_box_name, 'closed');
        $( '#topnav .alert' ).hide();
  });
});
</script>
      <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
      <a href="http://roscon.ros.org">ROSCon 2017</a> will be in Vancouver, September 21-22! <br>
      The last few years have sold out: register now and take advantage of discounted hotel rates</a>.
    </div>
-->
<!-- End Alert box -->

      <table id="topnav-table">
        <tr>
          <td width="300" valign="top"><a href="/"><img border="0" src="/custom/images/ros_org.png" alt="ros.org" width="238" height="51"/></a></td>
          <td width="500" valign="middle">
            <a href="http://www.ros.org/about-ros">About</a>
            |
            <a href="/Support">Support</a>
            |
            <a href="http://discourse.ros.org/">Discussion Forum</a>
            |
            <a href="http://status.ros.org/">Service Status</a>
            |
            <a href="http://answers.ros.org/">Q&A answers.ros.org</a>

<!--<a href="http://roscon.ros.org/2016/"><img align="middle" style="padding-left: 15px;" src="http://ros.org/images/roscon_wiki_header.jpg" width="133" height="65" alt="ROSCon 2016" /></a>
-->

<!-- <a href="https://events.osrfoundation.org/ros-kong-2014/"><img align="middle" style="padding-left: 15px;" src="http://ros.org/images/ros_kong_2014_badge.png" width="133" height="38" alt="roskong" /></a>
-->
<!--a href="https://events.osrfoundation.org/ros-kong-2014/"><img align="middle" style="padding-left: 15px;" src="http://imgur.com/eMzUJVe.png" width="133" height="38" alt="roskong" /></a-->
          </td>

          <td valign="middle" align="right">

<script language="Javascript">

function Searchy(theButton){

theForm = theButton.form;
newID = theForm.input.value;
theForm.q.value = newID;
theForm.input.value=theForm.input.value

}
</script>


<form action="http://www.ros.org/search/index.html" id="cse">
  <div>
    <label>Search:</label>
    <input type="hidden" name="cx" value="018259903093183594226:txvzw9fat6w" />
    <input type="hidden" name="cof" value="FORID:11;NB:1" />
    <input type="hidden" name="filter" value="0" />
    <input type="hidden" name="num" value="10" />

    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="input" id="input" autocomplete="on" style="width: 35%"/>
    <input type="hidden" name="q" value="" />
    <input type="submit" name="sa" value="Submit" onClick="Searchy(this)"/>

  </div>
</form>

         </td>
      </tr>
      <tr>
        <td colspan="3" height="53" width="1024"><nobr><img src="/custom/images/menu_left.png" width="17" height="53" alt=""/><a href="/"><img
        border="0" src="/custom/images/menu_documentation.png" width="237" height="53" alt="Documentation" /></a><img
        src="/custom/images/menu_spacer.png" width="69" height="53" /><a href="http://www.ros.org/browse/"><img border="0"
        src="/custom/images/menu_browse_software.png" width="268" height="53" alt="Browse Software" /></a><img
        src="/custom/images/menu_spacer.png" width="69" height="53" /><a href="http://www.ros.org/news"><img border="0"
        src="/custom/images/menu_news.png" width="84" height="53" alt="News" /></a><img
        src="/custom/images/menu_spacer.png" width="69" height="53" /><a href="/ROS/Installation"><img border="0"
        src="/custom/images/menu_download.png" width="151" height="53" alt="Download" /></a><img
        src="/custom/images/menu_right.png" width="60" height="53" /></nobr></td>

      </tr>
    </table> <!-- topnav-table -->

    </div> <!-- /#topav -->
  </div> <!-- /#header -->


<div id="header2">

<ul id="pagelocation">
<li><a href="/ROS">ROS</a></li><li><a href="/ROS/Tutorials">Tutorials</a></li><li><a class="backlink" href="/action/fullsearch/ROS/Tutorials/WritingServiceClient%28c%2B%2B%29?action=fullsearch&amp;context=180&amp;value=linkto%3A%22ROS%2FTutorials%2FWritingServiceClient%28c%2B%2B%29%22" rel="nofollow" title="Kliknij aby poszukać tytułu metodą pełnotekstową">WritingServiceClient(c++)</a></li>
</ul>

<div id="locationline">
</div>
</div>

<div id="sidebar">
<div class="sidepanel">
<h1>Wiki</h1>

<ul id="navibar">
<li class="wikilink"><a href="/Distributions">Distributions</a></li><li class="wikilink"><a href="/ROS/Installation">ROS/Installation</a></li><li class="wikilink"><a href="/ROS/Tutorials">ROS/Tutorials</a></li><li class="wikilink"><a href="/RecentChanges">RecentChanges</a></li><li class="current"><a href="/ROS/Tutorials/WritingServiceClient%28c%2B%2B%29">WritingServiceClient(c++)</a></li>
</ul>

</div>
<div class="sidepanel">
<h1>Strona</h1>
<ul class="editbar"><li><span class="disabled">Strona statyczna</span></li><li class="toggleCommentsButton" style="display:none;"><a href="#" class="nbcomment" onClick="toggleComments();return false;">Komentarze</a></li><li><a class="nbinfo" href="/action/info/ROS/Tutorials/WritingServiceClient%28c%2B%2B%29?action=info" rel="nofollow">Info</a></li><li><a class="nbattachments" href="/action/AttachFile/ROS/Tutorials/WritingServiceClient%28c%2B%2B%29?action=AttachFile" rel="nofollow">Załączniki</a></li><li>
<form class="actionsmenu" method="GET" action="/ROS/Tutorials/WritingServiceClient%28c%2B%2B%29">
<div>
    <label>Więcej operacji:</label>
    <select name="action"
        onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="raw">Tekst surowy</option>
<option value="print">Podgląd wydruku</option>
<option value="RenderAsDocbook">Utwórz jako Docbook</option>
<option value="show" disabled class="disabled">Usuń pamięć podręczną</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="SpellCheck">Sprawdź pisownię</option>
<option value="LikePages">Podobne strony</option>
<option value="LocalSiteMap">Lokalna mapa witryny</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="RenamePage" disabled class="disabled">Zmień nazwę strony</option>
<option value="CopyPage">Kopiuj stronę</option>
<option value="DeletePage" disabled class="disabled">Usuń stronę</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="MyPages">Moje strony</option>
<option value="show" disabled class="disabled">Zasubskrybuj Czytelnika</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Usuń spam</option>
<option value="show" disabled class="disabled">Przywróć do tej wersji</option>
<option value="PackagePages">Spakuj strony</option>
<option value="SyncPages">Synchronizuj strony</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="CreatePdfDocument">CreatePdfDocument</option>
<option value="Load">Wczytaj</option>
<option value="RawFile">RawFile</option>
<option value="Save">Zachowaj</option>
<option value="SlideShow">SlideShow</option>
    </select>
    <input type="submit" value="Wykonaj">
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('Więcej operacji:');
//-->
</script>
</form>
</li></ul>

</div>
<div class="sidepanel">
<h1>Czytelnik</h1>
<ul id="username"><li><a href="/action/login/ROS/Tutorials/WritingServiceClient%28c%2B%2B%29?action=login" id="login" rel="nofollow">Login</a></li></ul>
</div>
</div>

<div id="page" lang="en" dir="ltr">

<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span><span class="anchor" id="line-6"></span><span class="anchor" id="line-7"></span><span class="anchor" id="line-8"></span><span class="anchor" id="line-9"></span><span class="anchor" id="line-10"></span><span class="anchor" id="line-11"></span><span class="anchor" id="line-12"></span><span class="anchor" id="line-13"></span><span class="anchor" id="line-14"></span><span class="anchor" id="line-15"></span><span class="anchor" id="line-16"></span><span class="anchor" id="line-17"></span><span class="anchor" id="line-18"></span><span class="anchor" id="line-19"></span><p class="line867"><span class="anchor" id="line-1-1"></span><span class="anchor" id="line-2-1"></span><div><table><tbody><tr>  <td style="background-color: #cce0ff"><strong>Note:</strong> This tutorial assumes that you have completed the previous tutorials:   <a href="/ROS/Tutorials/ExaminingPublisherSubscriber">examining the simple publisher and subscriber</a>. </td>
</tr>
</tbody></table></div><span class="anchor" id="line-3-1"></span><span class="anchor" id="line-4-1"></span><span class="anchor" id="line-5-1"></span><span class="anchor" id="line-6-1"></span><div><table><tbody><tr>  <td style="background-color: #bbceee"> <img alt="(!)" height="15" src="/moin_static197/rostheme/img/idea.png" title="(!)" width="15" /> Please ask about problems and questions regarding this tutorial on <a class="http" href="http://answers.ros.org">answers.ros.org</a>. Don't forget to include in your question the link to this page, the versions of your OS &amp; ROS, and also add appropriate tags.</td>
</tr>
</tbody></table></div><span class="anchor" id="line-7-1"></span><span class="anchor" id="line-8-1"></span><span class="anchor" id="line-9-1"></span>
<h1 id="Writing_a_Simple_Service_and_Client_.28C.2B-.2B-.29">Writing a Simple Service and Client (C++)</h1>
<span class="anchor" id="line-10-1"></span><strong>Description:</strong> This tutorial covers how to write a service and client node in C++.<br>
<br>
 <span class="anchor" id="line-11-1"></span><span class="anchor" id="line-12-1"></span><span class="anchor" id="line-13-1"></span><span class="anchor" id="line-14-1"></span><strong>Tutorial Level:</strong> BEGINNER<br>
 <br>
 <span class="anchor" id="line-15-1"></span><span class="anchor" id="line-16-1"></span><strong>Next Tutorial:</strong>   <a href="/ROS/Tutorials/ExaminingServiceClient">Examining the simple service and client</a> <br>
 <br>
  <span class="anchor" id="line-17-1"></span><p class="line874"> <span class="anchor" id="line-20"></span><span class="anchor" id="line-21"></span><p class="line867"><script type="text/javascript">
<!--
// @@ Buildsystem macro
function Buildsystem(sections) {
    var dotversion = ".buildsystem."

    // Tag shows unless already tagged
    $.each(sections.show,
        function() {
            $("div" + dotversion + this).not(".versionshow,.versionhide").addClass("versionshow")
        }
    )

    // Tag hides unless already tagged
    $.each(sections.hide,
        function() {
            $("div" + dotversion + this).not(".versionshow,.versionhide").addClass("versionhide")
        }
    )

      // Show or hide according to tag
      $(".versionshow").removeClass("versionshow").filter("div").show()
      $(".versionhide").removeClass("versionhide").filter("div").hide()
}

function getURLParameter(name) {
    return decodeURIComponent(
        (
            new RegExp(
                '[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)'
            ).exec(location.search) || [,""]
        )[1].replace(/\+/g, '%20')
    ) || null;
}

$(document).ready(function() {
    var activesystem = "catkin";
    var url_distro = getURLParameter('buildsystem');
    if (url_distro)
    {
        activesystem = url_distro;
    }
    $("div.buildsystem").not("."+activesystem).hide();
    $("#"+activesystem).click();
    $("input.version:hidden").each(function() {
        var bg = $(this).attr("value").split(":");
        $("div.version." + bg[0]).css("background-color", bg[1]).removeClass(bg[0])
    });
})
 // -->
</script>
<span class="btn-group">
<button id="catkin" class="btn btn-default" onClick="Buildsystem({show:['catkin'], hide:['rosbuild']});this.style.color='#e6e6e6';this.style.background='#3e4f6e';document.getElementById('rosbuild').style.background='#e6e6e6';document.getElementById('rosbuild').style.color='#3e4f6e';return false"> catkin </button>
<button id="rosbuild" class="btn btn-default" onClick="Buildsystem({show:['rosbuild'], hide:['catkin']});this.style.color='#e6e6e6';this.style.background='#3e4f6e';document.getElementById('catkin').style.background='#e6e6e6';document.getElementById('catkin').style.color='#3e4f6e';return false"> rosbuild </button>
</span> <span class="anchor" id="line-22"></span><span class="anchor" id="line-23"></span><p class="line867"><div class="table-of-contents"><p class="table-of-contents-heading">PomocSpisTreści<ol><li>
<a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.Writing_a_Service_Node">Writing a Service Node</a><ol><li>
<a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.The_Code">The Code</a></li><li>
<a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.The_Code_Explained">The Code Explained</a></li></ol></li><li>
<a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.Writing_the_Client_Node">Writing the Client Node</a><ol><li>
<a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.The_Code-1">The Code</a></li><li>
<a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.The_Code_Explained-1">The Code Explained</a></li></ol></li><li>
<a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.Building_your_nodes">Building your nodes</a></li><li>
<a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.Building_your_nodes-1">Building your nodes</a></li></ol></li></ol></div><p class="line874"> <span class="anchor" id="line-24"></span><span class="anchor" id="line-25"></span><p class="line867"><div dir="ltr" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.content" lang="en"><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.top"></span>
<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-2"></span><p class="line867">
<h2 id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.Writing_a_Service_Node">Writing a Service Node</h2>
<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-3"></span><p class="line874">Here we'll create the service ("add_two_ints_server") node which will receive two ints and return the sum. <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-5"></span><p class="line867"><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-12"></span><div class="buildsystem rosbuild"><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-1"></span><p class="line862">Change directory into the beginner_tutorials package, you created previously in the <a href="/ROS/Tutorials/CreatingPackage">creating a rosbuild package</a> tutorial: <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-2-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-3-1"></span><p class="line867"><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-4-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-5-1"></span><pre><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-2"></span>roscd beginner_tutorials</pre></div><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-14"></span><p class="line867"><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-18"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-21"></span><div class="buildsystem catkin"><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-3"></span><p class="line874">Change directories to your beginner_tutorials package you created in your catkin workspace previous tutorials: <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-2-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-3-2"></span><p class="line867"><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-4-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-5-2"></span><pre><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-4"></span>roscd beginner_tutorials</pre></div><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-22"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-23"></span><p class="line862">Please make sure you have followed the directions in the previous tutorial for creating the service needed in this tutorial, <a href="/ROS/Tutorials/CreatingMsgAndSrv#Creating_a_srv">creating the AddTwoInts.srv</a> (be sure to choose the right version of build tool you're using at the top of wiki page in the link). <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-24"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-25"></span><p class="line867">
<h3 id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.The_Code">The Code</h3>
<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-26"></span><p class="line874">Create the src/add_two_ints_server.cpp file within the beginner_tutorials package and paste the following inside it: <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-27"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-28"></span><p class="line867"><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-29"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-30"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-31"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-32"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-33"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-34"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-35"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-36"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-37"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-38"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-39"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-40"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-41"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-42"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-43"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-44"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-45"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-46"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-47"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-48"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-49"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-50"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-51"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-52"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-53"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-5"></span><div class="highlight cpp"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
function isnumbered(obj) {
  return obj.childNodes.length && obj.firstChild.childNodes.length && obj.firstChild.firstChild.className == 'LineNumber';
}
function nformat(num,chrs,add) {
  var nlen = Math.max(0,chrs-(''+num).length), res = '';
  while (nlen>0) { res += ' '; nlen-- }
  return res+num+add;
}
function addnumber(did, nstart, nstep) {
  var c = document.getElementById(did), l = c.firstChild, n = 1;
  if (!isnumbered(c)) {
    if (typeof nstart == 'undefined') nstart = 1;
    if (typeof nstep  == 'undefined') nstep = 1;
    var n = nstart;
    while (l != null) {
      if (l.tagName == 'SPAN') {
        var s = document.createElement('SPAN');
        var a = document.createElement('A');
        s.className = 'LineNumber';
        a.appendChild(document.createTextNode(nformat(n,4,'')));
        a.href = '#' + did + '_' + n;
        s.appendChild(a);
        s.appendChild(document.createTextNode(' '));
        n += nstep;
        if (l.childNodes.length) {
          l.insertBefore(s, l.firstChild);
        }
        else {
          l.appendChild(s);
        }
      }
      l = l.nextSibling;
    }
  }
  return false;
}
function remnumber(did) {
  var c = document.getElementById(did), l = c.firstChild;
  if (isnumbered(c)) {
    while (l != null) {
      if (l.tagName == 'SPAN' && l.firstChild.className == 'LineNumber') l.removeChild(l.firstChild);
      l = l.nextSibling;
    }
  }
  return false;
}
function togglenumber(did, nstart, nstep) {
  var c = document.getElementById(did);
  if (isnumbered(c)) {
    remnumber(did);
  } else {
    addnumber(did,nstart,nstep);
  }
  return false;
}
</script>

<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a\', 1, 1);" \
                class="codenumbers">Ustaw numery linii<\/a>');
</script>
<pre dir="ltr" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a" lang="en"><span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_1">   1</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-6"></span><span class="Preprc">#</span><span class="Preprc">include "ros</span><span class="Preprc">/</span><span class="Preprc">ros.h"</span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_2">   2</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-2-3"></span><span class="Preprc"></span><span class="Preprc">#</span><span class="Preprc">include "beginner_tutorials</span><span class="Preprc">/</span><span class="Preprc">AddTwoInts.h"</span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_3">   3</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-3-3"></span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_4">   4</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-4-3"></span><span class="ResWord">bool</span> <span class="ID">add</span>(<span class="ID">beginner_tutorials</span>::<span class="ID">AddTwoInts</span>::<span class="ID">Request</span>  &amp;<span class="ID">req</span>,</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_5">   5</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-5-3"></span>         <span class="ID">beginner_tutorials</span>::<span class="ID">AddTwoInts</span>::<span class="ID">Response</span> &amp;<span class="ID">res</span>)</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_6">   6</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-6-1"></span>{</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_7">   7</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-7-1"></span>  <span class="ID">res</span>.<span class="ID">sum</span> = <span class="ID">req</span>.<span class="ID">a</span> + <span class="ID">req</span>.<span class="ID">b</span>;</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_8">   8</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-8-1"></span>  <span class="ID">ROS_INFO</span>(<span class="String">"</span><span class="String">request: x=%ld, y=%ld</span><span class="String">"</span>, (<span class="ResWord">long</span> <span class="ResWord">int</span>)<span class="ID">req</span>.<span class="ID">a</span>, (<span class="ResWord">long</span> <span class="ResWord">int</span>)<span class="ID">req</span>.<span class="ID">b</span>);</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_9">   9</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-9-1"></span>  <span class="ID">ROS_INFO</span>(<span class="String">"</span><span class="String">sending back response: [%ld]</span><span class="String">"</span>, (<span class="ResWord">long</span> <span class="ResWord">int</span>)<span class="ID">res</span>.<span class="ID">sum</span>);</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_10">  10</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-10-1"></span>  <span class="ResWord">return</span> <span class="ConsWord">true</span>;</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_11">  11</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-11-1"></span>}</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_12">  12</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-12-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_13">  13</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-13-1"></span><span class="ResWord">int</span> <span class="ID">main</span>(<span class="ResWord">int</span> <span class="ID">argc</span>, <span class="ResWord">char</span> **<span class="ID">argv</span>)</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_14">  14</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-14-1"></span>{</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_15">  15</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-15-1"></span>  <span class="ID">ros</span>::<span class="ID">init</span>(<span class="ID">argc</span>, <span class="ID">argv</span>, <span class="String">"</span><span class="String">add_two_ints_server</span><span class="String">"</span>);</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_16">  16</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-16-1"></span>  <span class="ID">ros</span>::<span class="ID">NodeHandle</span> <span class="ID">n</span>;</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_17">  17</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-17-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_18">  18</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_18"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-18-1"></span>  <span class="ID">ros</span>::<span class="ID">ServiceServer</span> <span class="ID">service</span> = <span class="ID">n</span>.<span class="ID">advertiseService</span>(<span class="String">"</span><span class="String">add_two_ints</span><span class="String">"</span>, <span class="ID">add</span>);</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_19">  19</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-19-1"></span>  <span class="ID">ROS_INFO</span>(<span class="String">"</span><span class="String">Ready to add two ints.</span><span class="String">"</span>);</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_20">  20</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-20-1"></span>  <span class="ID">ros</span>::<span class="ID">spin</span>();</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_21">  21</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_21"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-21-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_22">  22</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_22"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-22-1"></span>  <span class="ResWord">return</span> <span class="Number">0</span>;</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_23">  23</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-51b90df3945605c351da24a5ec712323d4d3dc5a_23"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-23-1"></span>}</span>
</pre></div></div><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-54"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-55"></span><p class="line867">
<h3 id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.The_Code_Explained">The Code Explained</h3>
<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-56"></span><p class="line874">Now, let's break the code down. <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-57"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-58"></span><p class="line867"><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-2-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-3-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-4-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-5-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-8"></span><div class="highlight cpp"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-44045d249f9a09eed4ca0e3c86767fcc080379f7\', 1, 1);" \
                class="codenumbers">Ustaw numery linii<\/a>');
</script>
<pre dir="ltr" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-44045d249f9a09eed4ca0e3c86767fcc080379f7" lang="en"><span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-44045d249f9a09eed4ca0e3c86767fcc080379f7_1">   1</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-44045d249f9a09eed4ca0e3c86767fcc080379f7_1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-9"></span><span class="Preprc">#</span><span class="Preprc">include "ros</span><span class="Preprc">/</span><span class="Preprc">ros.h"</span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-44045d249f9a09eed4ca0e3c86767fcc080379f7_2">   2</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-44045d249f9a09eed4ca0e3c86767fcc080379f7_2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-2-5"></span><span class="Preprc"></span><span class="Preprc">#</span><span class="Preprc">include "beginner_tutorials</span><span class="Preprc">/</span><span class="Preprc">AddTwoInts.h"</span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-44045d249f9a09eed4ca0e3c86767fcc080379f7_3">   3</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-44045d249f9a09eed4ca0e3c86767fcc080379f7_3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-3-5"></span><span class="Preprc"></span></span>
</pre></div></div><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-6-2"></span><p class="line874"> <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-59"></span><tt class="backtick">beginner_tutorials/AddTwoInts.h</tt> is the header file generated from the srv file that we created earlier. <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-60"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-61"></span><p class="line867"><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-2-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-3-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-4-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-5-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-2-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-3-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-4-6"></span><div class="highlight cpp"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-c703b7a0cd73dc5e242b12211e5ef7ade318e6f7\', 4, 1);" \
                class="codenumbers">Ustaw numery linii<\/a>');
</script>
<pre dir="ltr" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-c703b7a0cd73dc5e242b12211e5ef7ade318e6f7" lang="en"><span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-c703b7a0cd73dc5e242b12211e5ef7ade318e6f7_4">   4</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-c703b7a0cd73dc5e242b12211e5ef7ade318e6f7_4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-12"></span><span class="ResWord">bool</span> <span class="ID">add</span>(<span class="ID">beginner_tutorials</span>::<span class="ID">AddTwoInts</span>::<span class="ID">Request</span>  &amp;<span class="ID">req</span>,</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-c703b7a0cd73dc5e242b12211e5ef7ade318e6f7_5">   5</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-c703b7a0cd73dc5e242b12211e5ef7ade318e6f7_5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-2-8"></span>         <span class="ID">beginner_tutorials</span>::<span class="ID">AddTwoInts</span>::<span class="ID">Response</span> &amp;<span class="ID">res</span>)</span>
</pre></div></div><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-6-3"></span><p class="line874"> <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-62"></span>This function provides the service for adding two ints, it takes in the request and response type defined in the srv file and returns a boolean.  <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-63"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-64"></span><p class="line867"><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-2-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-3-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-4-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-5-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-6-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-7-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-8-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-9-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-2-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-3-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-4-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-5-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-6-5"></span><div class="highlight cpp"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-cab6c9ffa40cf9bd42fef4448b31f6feaa24464c\', 6, 1);" \
                class="codenumbers">Ustaw numery linii<\/a>');
</script>
<pre dir="ltr" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-cab6c9ffa40cf9bd42fef4448b31f6feaa24464c" lang="en"><span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-cab6c9ffa40cf9bd42fef4448b31f6feaa24464c_6">   6</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-cab6c9ffa40cf9bd42fef4448b31f6feaa24464c_6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-15"></span>{</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-cab6c9ffa40cf9bd42fef4448b31f6feaa24464c_7">   7</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-cab6c9ffa40cf9bd42fef4448b31f6feaa24464c_7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-2-11"></span>  <span class="ID">res</span>.<span class="ID">sum</span> = <span class="ID">req</span>.<span class="ID">a</span> + <span class="ID">req</span>.<span class="ID">b</span>;</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-cab6c9ffa40cf9bd42fef4448b31f6feaa24464c_8">   8</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-cab6c9ffa40cf9bd42fef4448b31f6feaa24464c_8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-3-10"></span>  <span class="ID">ROS_INFO</span>(<span class="String">"</span><span class="String">request: x=%ld, y=%ld</span><span class="String">"</span>, (<span class="ResWord">long</span> <span class="ResWord">int</span>)<span class="ID">req</span>.<span class="ID">a</span>, (<span class="ResWord">long</span> <span class="ResWord">int</span>)<span class="ID">req</span>.<span class="ID">b</span>);</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-cab6c9ffa40cf9bd42fef4448b31f6feaa24464c_9">   9</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-cab6c9ffa40cf9bd42fef4448b31f6feaa24464c_9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-4-9"></span>  <span class="ID">ROS_INFO</span>(<span class="String">"</span><span class="String">sending back response: [%ld]</span><span class="String">"</span>, (<span class="ResWord">long</span> <span class="ResWord">int</span>)<span class="ID">res</span>.<span class="ID">sum</span>);</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-cab6c9ffa40cf9bd42fef4448b31f6feaa24464c_10">  10</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-cab6c9ffa40cf9bd42fef4448b31f6feaa24464c_10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-5-8"></span>  <span class="ResWord">return</span> <span class="ConsWord">true</span>;</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-cab6c9ffa40cf9bd42fef4448b31f6feaa24464c_11">  11</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-cab6c9ffa40cf9bd42fef4448b31f6feaa24464c_11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-6-6"></span>}</span>
</pre></div></div><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-10-2"></span><p class="line874"> <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-65"></span>Here the two ints are added and stored in the response. Then some information about the request and response are logged. Finally the service returns true when it is complete. <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-66"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-67"></span><p class="line867"><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-2-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-3-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-4-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-2-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-3-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-4-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-5-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-6-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-7-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-8-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-9-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-10-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-11-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-12-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-13-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-14-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-15-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-16-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-17-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-18-2"></span><div class="highlight cpp"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-ac5d6b9af10384158d452506d30df9e87f3dbd88\', 18, 1);" \
                class="codenumbers">Ustaw numery linii<\/a>');
</script>
<pre dir="ltr" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-ac5d6b9af10384158d452506d30df9e87f3dbd88" lang="en"><span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-ac5d6b9af10384158d452506d30df9e87f3dbd88_18">  18</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-ac5d6b9af10384158d452506d30df9e87f3dbd88_18"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-18"></span>  <span class="ID">ros</span>::<span class="ID">ServiceServer</span> <span class="ID">service</span> = <span class="ID">n</span>.<span class="ID">advertiseService</span>(<span class="String">"</span><span class="String">add_two_ints</span><span class="String">"</span>, <span class="ID">add</span>);</span>
</pre></div></div><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-5-10"></span><p class="line874"> <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-68"></span>Here the service is created and advertised over ROS.  <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-69"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-70"></span><p class="line867">
<h2 id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.Writing_the_Client_Node">Writing the Client Node</h2>
<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-71"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-72"></span><p class="line867">
<h3 id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.The_Code-1">The Code</h3>
<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-73"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-74"></span><p class="line874">Create the src/add_two_ints_client.cpp file within the beginner_tutorials package and paste the following inside it: <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-75"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-76"></span><p class="line867"><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-77"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-78"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-79"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-80"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-81"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-82"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-83"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-84"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-85"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-86"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-87"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-88"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-89"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-90"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-91"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-92"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-93"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-94"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-95"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-96"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-97"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-98"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-99"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-100"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-101"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-102"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-103"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-104"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-105"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-106"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-107"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-108"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-19"></span><div class="highlight cpp"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4\', 1, 1);" \
                class="codenumbers">Ustaw numery linii<\/a>');
</script>
<pre dir="ltr" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4" lang="en"><span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_1">   1</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-20"></span><span class="Preprc">#</span><span class="Preprc">include "ros</span><span class="Preprc">/</span><span class="Preprc">ros.h"</span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_2">   2</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-2-14"></span><span class="Preprc"></span><span class="Preprc">#</span><span class="Preprc">include "beginner_tutorials</span><span class="Preprc">/</span><span class="Preprc">AddTwoInts.h"</span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_3">   3</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-3-13"></span><span class="Preprc"></span><span class="Preprc">#</span><span class="Preprc">include &lt;cstdlib&gt;</span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_4">   4</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-4-12"></span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_5">   5</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-5-11"></span><span class="ResWord">int</span> <span class="ID">main</span>(<span class="ResWord">int</span> <span class="ID">argc</span>, <span class="ResWord">char</span> **<span class="ID">argv</span>)</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_6">   6</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-6-8"></span>{</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_7">   7</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-7-4"></span>  <span class="ID">ros</span>::<span class="ID">init</span>(<span class="ID">argc</span>, <span class="ID">argv</span>, <span class="String">"</span><span class="String">add_two_ints_client</span><span class="String">"</span>);</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_8">   8</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-8-4"></span>  <span class="ResWord">if</span> (<span class="ID">argc</span> != <span class="Number">3</span>)</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_9">   9</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-9-4"></span>  {</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_10">  10</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-10-4"></span>    <span class="ID">ROS_INFO</span>(<span class="String">"</span><span class="String">usage: add_two_ints_client X Y</span><span class="String">"</span>);</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_11">  11</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-11-3"></span>    <span class="ResWord">return</span> <span class="Number">1</span>;</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_12">  12</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-12-3"></span>  }</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_13">  13</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-13-3"></span></span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_14">  14</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-14-3"></span>  <span class="ID">ros</span>::<span class="ID">NodeHandle</span> <span class="ID">n</span>;</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_15">  15</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-15-3"></span>  <span class="ID">ros</span>::<span class="ID">ServiceClient</span> <span class="ID">client</span> = <span class="ID">n</span>.<span class="ID">serviceClient</span>&lt;<span class="ID">beginner_tutorials</span>::<span class="ID">AddTwoInts</span>&gt;(<span class="String">"</span><span class="String">add_two_ints</span><span class="String">"</span>);</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_16">  16</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-16-3"></span>  <span class="ID">beginner_tutorials</span>::<span class="ID">AddTwoInts</span> <span class="ID">srv</span>;</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_17">  17</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-17-3"></span>  <span class="ID">srv</span>.<span class="ID">request</span>.<span class="ID">a</span> = <span class="ID">atoll</span>(<span class="ID">argv</span>[<span class="Number">1</span>]);</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_18">  18</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_18"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-18-3"></span>  <span class="ID">srv</span>.<span class="ID">request</span>.<span class="ID">b</span> = <span class="ID">atoll</span>(<span class="ID">argv</span>[<span class="Number">2</span>]);</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_19">  19</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-19-2"></span>  <span class="ResWord">if</span> (<span class="ID">client</span>.<span class="ID">call</span>(<span class="ID">srv</span>))</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_20">  20</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-20-2"></span>  {</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_21">  21</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_21"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-21-2"></span>    <span class="ID">ROS_INFO</span>(<span class="String">"</span><span class="String">Sum: %ld</span><span class="String">"</span>, (<span class="ResWord">long</span> <span class="ResWord">int</span>)<span class="ID">srv</span>.<span class="ID">response</span>.<span class="ID">sum</span>);</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_22">  22</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_22"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-22-2"></span>  }</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_23">  23</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_23"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-23-2"></span>  <span class="ResWord">else</span></span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_24">  24</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_24"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-24-1"></span>  {</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_25">  25</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_25"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-25-1"></span>    <span class="ID">ROS_ERROR</span>(<span class="String">"</span><span class="String">Failed to call service add_two_ints</span><span class="String">"</span>);</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_26">  26</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_26"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-26-1"></span>    <span class="ResWord">return</span> <span class="Number">1</span>;</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_27">  27</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_27"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-27-1"></span>  }</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_28">  28</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_28"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-28-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_29">  29</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_29"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-29-1"></span>  <span class="ResWord">return</span> <span class="Number">0</span>;</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_30">  30</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-f2a39abe84f67d951ff455fdbeda1ad12e9783e4_30"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-30-1"></span>}</span>
</pre></div></div><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-109"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-110"></span><p class="line867">
<h3 id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.The_Code_Explained-1">The Code Explained</h3>
<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-111"></span><p class="line874">Now, let's break the code down. <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-112"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-113"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-114"></span><p class="line867"><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-21"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-2-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-3-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-4-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-22"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-2-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-3-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-4-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-5-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-6-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-7-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-8-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-9-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-10-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-11-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-12-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-13-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-14-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-15-4"></span><div class="highlight cpp"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-ae5c23e9275f52f11e35b1c440a1b28eb4e05c6b\', 15, 1);" \
                class="codenumbers">Ustaw numery linii<\/a>');
</script>
<pre dir="ltr" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-ae5c23e9275f52f11e35b1c440a1b28eb4e05c6b" lang="en"><span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-ae5c23e9275f52f11e35b1c440a1b28eb4e05c6b_15">  15</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-ae5c23e9275f52f11e35b1c440a1b28eb4e05c6b_15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-23"></span>  <span class="ID">ros</span>::<span class="ID">ServiceClient</span> <span class="ID">client</span> = <span class="ID">n</span>.<span class="ID">serviceClient</span>&lt;<span class="ID">beginner_tutorials</span>::<span class="ID">AddTwoInts</span>&gt;(<span class="String">"</span><span class="String">add_two_ints</span><span class="String">"</span>);</span>
</pre></div></div><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-5-13"></span><p class="line874"> <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-115"></span>This creates a client for the <tt class="backtick">add_two_ints</tt> service.  The <tt class="backtick">ros::ServiceClient</tt> object is used to call the service later on. <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-116"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-117"></span><p class="line867"><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-24"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-2-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-3-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-4-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-5-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-6-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-25"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-2-18"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-3-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-4-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-5-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-6-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-7-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-8-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-9-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-10-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-11-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-12-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-13-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-14-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-15-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-16-4"></span><div class="highlight cpp"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-6c61651582a4391fbbdc9c59b97b6557ba35c65a\', 16, 1);" \
                class="codenumbers">Ustaw numery linii<\/a>');
</script>
<pre dir="ltr" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-6c61651582a4391fbbdc9c59b97b6557ba35c65a" lang="en"><span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-6c61651582a4391fbbdc9c59b97b6557ba35c65a_16">  16</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-6c61651582a4391fbbdc9c59b97b6557ba35c65a_16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-26"></span>  <span class="ID">beginner_tutorials</span>::<span class="ID">AddTwoInts</span> <span class="ID">srv</span>;</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-6c61651582a4391fbbdc9c59b97b6557ba35c65a_17">  17</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-6c61651582a4391fbbdc9c59b97b6557ba35c65a_17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-2-19"></span>  <span class="ID">srv</span>.<span class="ID">request</span>.<span class="ID">a</span> = <span class="ID">atoll</span>(<span class="ID">argv</span>[<span class="Number">1</span>]);</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-6c61651582a4391fbbdc9c59b97b6557ba35c65a_18">  18</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-6c61651582a4391fbbdc9c59b97b6557ba35c65a_18"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-3-18"></span>  <span class="ID">srv</span>.<span class="ID">request</span>.<span class="ID">b</span> = <span class="ID">atoll</span>(<span class="ID">argv</span>[<span class="Number">2</span>]);</span>
</pre></div></div><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-7-7"></span><p class="line874"> <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-118"></span>Here we instantiate an autogenerated service class, and assign values into its request member.  A service class contains two members, <tt class="backtick">request</tt> and <tt class="backtick">response</tt>.  It also contains two class definitions, <tt class="backtick">Request</tt> and <tt class="backtick">Response</tt>.   <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-119"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-120"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-121"></span><p class="line867"><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-27"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-2-20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-3-19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-4-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-28"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-2-21"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-3-20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-4-18"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-5-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-6-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-7-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-8-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-9-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-10-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-11-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-12-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-13-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-14-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-15-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-16-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-17-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-18-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-19-3"></span><div class="highlight cpp"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-449923a1ec1e665c95b5e8fe0e72050ab09d0f7a\', 19, 1);" \
                class="codenumbers">Ustaw numery linii<\/a>');
</script>
<pre dir="ltr" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-449923a1ec1e665c95b5e8fe0e72050ab09d0f7a" lang="en"><span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-449923a1ec1e665c95b5e8fe0e72050ab09d0f7a_19">  19</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-449923a1ec1e665c95b5e8fe0e72050ab09d0f7a_19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-29"></span>  <span class="ResWord">if</span> (<span class="ID">client</span>.<span class="ID">call</span>(<span class="ID">srv</span>))</span>
</pre></div></div><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-5-17"></span><p class="line874"> <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-122"></span>This actually calls the service.  Since service calls are blocking, it will return once the call is done.  If the service call succeeded, <tt class="backtick">call()</tt> will return true and the value in <tt class="backtick">srv.response</tt> will be valid.  If the call did not succeed, <tt class="backtick">call()</tt> will return false and the value in <tt class="backtick">srv.response</tt> will be invalid. <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-123"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-124"></span><p class="line867"><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-125"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-126"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-127"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-128"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-129"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-130"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-131"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-132"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-133"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-134"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-135"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-136"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-137"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-138"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-139"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-140"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-141"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-142"></span><div class="buildsystem rosbuild"><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-30"></span><p class="line867">
<h2 id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.Building_your_nodes">Building your nodes</h2>
<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-2-22"></span><p class="line874">Again edit the beginner_tutorials CMakeLists.txt: <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-3-21"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-4-19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-5-18"></span><pre><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-31"></span>$ rosed beginner_tutorials CMakeLists.txt </pre><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-6-13"></span><p class="line874">and add the following at the end: <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-7-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-8-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-9-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-10-8"></span><pre><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-32"></span>rosbuild_add_executable(add_two_ints_server src/add_two_ints_server.cpp)
<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-2-23"></span>rosbuild_add_executable(add_two_ints_client src/add_two_ints_client.cpp)</pre><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-11-7"></span><p class="line874">This will create two executables, "add_two_ints_server" and "add_two_ints_client", which by default will go into the "bin" directory. <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-12-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-13-7"></span><p class="line862">For more information on using CMake with ROS, see <a href="/CMakeLists">CMakeLists</a> <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-14-7"></span>Now run make: <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-15-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-16-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-17-5"></span><pre><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-33"></span>$ make</pre></div><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-143"></span><p class="line867"><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-144"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-145"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-146"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-147"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-148"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-149"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-150"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-151"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-152"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-153"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-154"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-155"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-156"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-157"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-158"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-159"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-160"></span><div class="buildsystem catkin"><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-34"></span><p class="line867">
<h2 id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.Building_your_nodes-1">Building your nodes</h2>
<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-2-24"></span><p class="line862">Again edit the beginner_tutorials CMakeLists.txt located at <tt class="backtick">~/catkin_ws/src/beginner_tutorials/CMakeLists.txt</tt> and add the following at the end: <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-3-22"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-4-20"></span><p class="line867"><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-35"></span><em><a class="https" href="https://raw.github.com/ros/catkin_tutorials/master/create_package_srvclient/catkin_ws/src/beginner_tutorials/CMakeLists.txt">https://raw.github.com/ros/catkin_tutorials/master/create_package_srvclient/catkin_ws/src/beginner_tutorials/CMakeLists.txt</a></em> <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-2-25"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-3-23"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-4-21"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-5-19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-6-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-7-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-8-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-9-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-10-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-11-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-12-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-13-8"></span><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-2686a22f58f4fe36f5224d89a67c332c5b56c4b3\', 27, 1);" \
                class="codenumbers">Ustaw numery linii<\/a>');
</script>
<pre dir="ltr" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-2686a22f58f4fe36f5224d89a67c332c5b56c4b3" lang="en"><span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-2686a22f58f4fe36f5224d89a67c332c5b56c4b3_27">  27</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-2686a22f58f4fe36f5224d89a67c332c5b56c4b3_27"></span>add_executable(add_two_ints_server src/add_two_ints_server.cpp)</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-2686a22f58f4fe36f5224d89a67c332c5b56c4b3_28">  28</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-2686a22f58f4fe36f5224d89a67c332c5b56c4b3_28"></span>target_link_libraries(add_two_ints_server ${catkin_LIBRARIES})</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-2686a22f58f4fe36f5224d89a67c332c5b56c4b3_29">  29</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-2686a22f58f4fe36f5224d89a67c332c5b56c4b3_29"></span>add_dependencies(add_two_ints_server beginner_tutorials_gencpp)</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-2686a22f58f4fe36f5224d89a67c332c5b56c4b3_30">  30</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-2686a22f58f4fe36f5224d89a67c332c5b56c4b3_30"></span></span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-2686a22f58f4fe36f5224d89a67c332c5b56c4b3_31">  31</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-2686a22f58f4fe36f5224d89a67c332c5b56c4b3_31"></span>add_executable(add_two_ints_client src/add_two_ints_client.cpp)</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-2686a22f58f4fe36f5224d89a67c332c5b56c4b3_32">  32</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-2686a22f58f4fe36f5224d89a67c332c5b56c4b3_32"></span>target_link_libraries(add_two_ints_client ${catkin_LIBRARIES})</span>
<span class="line"><span class="LineNumber"><a href="#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-2686a22f58f4fe36f5224d89a67c332c5b56c4b3_33">  33</a> </span><span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.CA-2686a22f58f4fe36f5224d89a67c332c5b56c4b3_33"></span>add_dependencies(add_two_ints_client beginner_tutorials_gencpp)</span>
</pre></div><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-14-8"></span><p class="line874"> <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-5-20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-6-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-7-11"></span><p class="line862">This will create two executables, <tt class="backtick">add_two_ints_server</tt> and <tt class="backtick">add_two_ints_client</tt>, which by default will go into package directory of your <a href="/catkin/workspaces#Development_.28Devel.29_Space">devel space</a>, located by default at <tt class="backtick">~/catkin_ws/devel/lib/&lt;package&nbsp;name&gt;</tt>. You can invoke executables directly or you can use rosrun to invoke them. They are not placed in '&lt;prefix&gt;/bin' because that would pollute the PATH when installing your package to the system. If you wish for your executable to be on the PATH at installation time, you can setup an install target, see: <a href="/catkin/CMakeLists.txt">catkin/CMakeLists.txt</a> <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-8-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-9-10"></span><p class="line862">For more detailed description of the <a href="/catkin/CMakeLists.txt">CMakeLists.txt</a> file see: <a href="/catkin/CMakeLists.txt">catkin/CMakeLists.txt</a> <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-10-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-11-9"></span><p class="line862">Now run <tt class="backtick">catkin_make</tt>: <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-12-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-13-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-14-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-15-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-16-7"></span><pre><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-36"></span># In your catkin workspace
<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-2-26"></span>cd ~/catkin_ws
<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-3-24"></span>catkin_make</pre></div><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-161"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-162"></span><p class="line874">If your build fails for some reason:  <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-163"></span><ul><li><p class="line862">make sure you have followed the directions in the previous tutorial: <a href="/ROS/Tutorials/CreatingMsgAndSrv#Creating_a_srv">creating the AddTwoInts.srv</a>. <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-164"></span></li></ul><p class="line867"><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-165"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-166"></span><div class="buildsystem rosbuild"><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-1-37"></span><ul><li><p class="line862">type <tt class="backtick">rosls&nbsp;beginner_tutorials/srv_gen/cpp/include/beginner_tutorials/</tt> and check that the <tt class="backtick">.h</tt> file matches the include in the client and server <tt class="backtick">.cpp</tt> files. </li></ul></div><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-167"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.line-168"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingServiceClient.bottom"></span></div> <span class="anchor" id="line-26"></span><span class="anchor" id="line-27"></span><p class="line862">Now that you have written a simple service and client, let's <a href="/ROS/Tutorials/ExaminingServiceClient">examine the simple service and client</a>. <span class="anchor" id="line-28"></span><span class="anchor" id="bottom"></span></div></div>
<div id="pagebottom"></div>
</div>

<p id="pageinfo" class="info" lang="pl" dir="ltr">Wiki: ROS/Tutorials/WritingServiceClient(c++)  (ostatnio edytowane 2015-03-04 19:10:21 przez <span title="AnisKoubaa @ 2.90.69.159[2.90.69.159]"><a class="nonexistent" href="/AnisKoubaa" title="AnisKoubaa @ 2.90.69.159[2.90.69.159]">AnisKoubaa</a></span>)</p>




<div style="margin-top: 9px;" class="footer">
Except where otherwise noted, the ROS wiki is licensed under the <br /><a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0</a> | <a href="https://plus.google.com/113789706402978299308" rel="publisher">Find us on Google+</a>
<hr style="margin-top: 10px;">
<div class="row">
  <div class="col-md-4 col-md-offset-4">
<a href="http://www.osrfoundation.org"><img style="margin-top: -1px;" src="/custom/images/brought_by_horiz.png"></p></a>
  </div>
</div>
</div>

  </div></div> <!-- /#dpage-inner, /#dpage -->


</body>
</html>

4           Z>ȝ       D    :http://wiki.ros.org/ROS/Tutorials/WritingServiceClient%28c%2B%2B%29 strongly-framed 1 request-method GET request-Cookie EFl8gDKz0yO+MwkAJzqWdnrLNWg= request-User-Agent Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:58.0) Gecko/20100101 Firefox/58.0 request-Accept-Language pl,en-US;q=0.7,en;q=0.3 response-head HTTP/1.1 200 OK
Date: Mon, 26 Feb 2018 10:33:34 GMT
Server: Apache
Vary: Cookie,User-Agent,Accept-Language
Content-Type: text/html; charset=utf-8
 original-response-headers Date: Mon, 26 Feb 2018 10:33:34 GMT
Server: Apache
Vary: Cookie,User-Agent,Accept-Language
Keep-Alive: timeout=5, max=100
Connection: Keep-Alive
Transfer-Encoding: chunked
Content-Type: text/html; charset=utf-8
 uncompressed-len 0 predictor::resource-count 15 predictor::http://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css 1,1,0,4096 predictor::http://code.jquery.com/jquery-1.11.0.min.js 1,1,0,4096 predictor::http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js 1,1,0,4096 predictor::http://wiki.ros.org/custom/js/sorttable.js 1,1,0,4096 predictor::http://wiki.ros.org/custom/libraries/jquery.min.js 1,1,0,4096 predictor::http://wiki.ros.org/custom/js/seesaw.js 1,1,0,4096 predictor::http://wiki.ros.org/custom/js/rosversion.js 1,1,0,4096 predictor::http://wiki.ros.org/moin_static197/common/js/common.js 1,1,0,4096 predictor::http://wiki.ros.org/moin_static197/rostheme/css/common.css 1,1,0,4096 predictor::http://wiki.ros.org/moin_static197/rostheme/css/screen.css 1,1,0,4096 predictor::http://wiki.ros.org/moin_static197/rostheme/css/print.css 1,1,0,4096 predictor::http://wiki.ros.org/moin_static197/rostheme/css/projection.css 1,1,0,4096 predictor::http://www.google-analytics.com/ga.js 1,0,0,4096 predictor::http://wiki.ros.org/moin_static197/rostheme/img/idea.png 1,1,0,4096 predictor::https://js-agent.newrelic.com/nr-1071.min.js 1,1,0,4096  B